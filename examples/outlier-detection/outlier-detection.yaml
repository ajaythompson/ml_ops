id: 41550f9a-c850-11eb-a55e-d90d76bdfe70
processors:
  - id: 41550f9b-c850-11eb-a55e-d90d76bdfe70
    name: load sensor data
    type: LoadProcessor
    property_groups:
      default:
        path: "examples/outlier-detection/input/sensor.csv"
        format: csv
        view_name: sensor_data
      load_options:
        header: True
  - id: 41550f9d-c850-11eb-a55e-d90d76bdfe70
    name: compute mean and stddev
    type: SQLProcessor
    property_groups:
      default:
        view_name: sensor_grouped_data
        query: SELECT sensor_id, mean(value) AS mean, stddev(value) AS stddev
          FROM sensor_data
          GROUP BY sensor_id
  - id: 41550f9e-c850-11eb-a55e-d90d76bdfe70
    name: compute upper and lower limit
    type: SQLProcessor
    property_groups:
      default:
        view_name: final
        query: SELECT sensor_id, mean, stddev,
          (mean + 3 * stddev) AS upper_limit,
          (mean - 3 * stddev) AS lower_limit
          FROM sensor_grouped_data
  - id: 41550f9f-c850-11eb-a55e-d90d76bdfe70
    name: write outliers data
    type: WriteProcessor
    property_groups:
      default:
        path: "examples/outlier-detection/output"
        format: csv
      write_options:
        header: "true"
relations:
  - id: 41550f9f-c850-11eb-a55e-d90d76bdfe70
    left: 41550f9b-c850-11eb-a55e-d90d76bdfe70
    right: 41550f9d-c850-11eb-a55e-d90d76bdfe70
  - id: 41550fa0-c850-11eb-a55e-d90d76bdfe70
    left: 41550f9d-c850-11eb-a55e-d90d76bdfe70
    right: 41550f9e-c850-11eb-a55e-d90d76bdfe70
  - id: 41550fa1-c850-11eb-a55e-d90d76bdfe70
    left: 41550f9e-c850-11eb-a55e-d90d76bdfe70
    right: 41550f9f-c850-11eb-a55e-d90d76bdfe70
